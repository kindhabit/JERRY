<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JERRY ì‹œìŠ¤í…œ ë¬¸ì„œ - 2025.01.02</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>JERRY ì‹œìŠ¤í…œ ë¬¸ì„œ</h1>
            <p class="metadata">ìµœì¢… ì—…ë°ì´íŠ¸: 2025ë…„ 1ì›” 2ì¼</p>
            <nav class="version-nav">
                <a href="#current">í˜„ì¬ ë²„ì „</a>
                <a href="#history">ë²„ì „ ì´ë ¥</a>
                <a href="../README.md">README ë³´ê¸°</a>
            </nav>
        </header>

        <section id="architecture" class="main-section">
            <h2>ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h2>
            
            <div class="architecture-diagram">
                <h3>í•µì‹¬ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°</h3>
                <pre class="folder-structure">
ğŸ“ core/
â”œâ”€â”€ ğŸ“ vector_db/           # ë²¡í„° DB ê´€ë ¨
â”‚   â”œâ”€â”€ vector_store_manager.py  # ë²¡í„° DB ìƒì„±/ê´€ë¦¬
â”‚   â””â”€â”€ embedding_creator.py     # ì„ë² ë”© ìƒì„±
â”‚
â”œâ”€â”€ ğŸ“ services/            # í•µì‹¬ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ rag_service.py          # RAG ê¸°ë°˜ ê²€ìƒ‰/ìƒì„±
â”‚   â”œâ”€â”€ pattern_service.py      # íŒ¨í„´ í•™ìŠµ ë° ê°•í™”
â”‚   â””â”€â”€ health_service.py       # í†µí•©ëœ ê±´ê°• ì„œë¹„ìŠ¤
â”‚
â””â”€â”€ ğŸ“ analysis/
    â””â”€â”€ client_health_analyzer.py # í´ë¼ì´ì–¸íŠ¸ ê±´ê°•ë°ì´í„° ë¶„ì„</pre>
            </div>

            <div class="vector-db-structure">
                <div class="collection-tabs">
                    <button class="tab-btn active" data-tab="supplements">Supplements</button>
                    <button class="tab-btn" data-tab="interactions">Interactions</button>
                    <button class="tab-btn" data-tab="patterns">Patterns</button>
                </div>

                <div class="collection-content">
                    <!-- Supplements Collection -->
                    <div class="collection-panel active" id="supplements-panel">
                        <h3>ì˜ì–‘ì œ ì»¬ë ‰ì…˜</h3>
                        <pre class="collection-code"><code>{
    "supplements": {
        "embeddings": "1536ì°¨ì› ë²¡í„°",
        "metadata": {
            "name": "ì˜ì–‘ì œ ì´ë¦„",
            "category": "ë¶„ë¥˜",
            "effects": ["íš¨ê³¼1", "íš¨ê³¼2"],
            "evidence_level": "ê·¼ê±° ìˆ˜ì¤€"
        }
    }
}</code></pre>
                        <div class="collection-details">
                            <h4>êµ¬ì¡° ì„¤ëª…</h4>
                            <ul>
                                <li>embeddings: OpenAI text-embedding-3-small ëª¨ë¸ ì‚¬ìš©</li>
                                <li>metadata: ê²€ìƒ‰ ë° í•„í„°ë§ìš© ë©”íƒ€ë°ì´í„°</li>
                            </ul>
                            <a href="#search-process" class="process-link">ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤ ë³´ê¸°</a>
                        </div>
                    </div>

                    <!-- Interactions Collection -->
                    <div class="collection-panel" id="interactions-panel">
                        <h3>ìƒí˜¸ì‘ìš© ì»¬ë ‰ì…˜</h3>
                        <pre class="collection-code"><code>{
    "interactions": {
        "embeddings": "1536ì°¨ì› ë²¡í„°",
        "metadata": {
            "supplements": ["ì˜ì–‘ì œ1", "ì˜ì–‘ì œ2"],
            "effect_type": "ìƒí˜¸ì‘ìš© ìœ í˜•",
            "severity": "ì‹¬ê°ë„",
            "mechanism": "ì‘ìš© ê¸°ì „"
        }
    }
}</code></pre>
                        <div class="collection-details">
                            <h4>êµ¬ì¡° ì„¤ëª…</h4>
                            <ul>
                                <li>supplements: ê´€ë ¨ëœ ì˜ì–‘ì œ ëª©ë¡</li>
                                <li>effect_type: ìƒí˜¸ì‘ìš©ì˜ ì¢…ë¥˜</li>
                                <li>severity: ì‹¬ê°ë„ ìˆ˜ì¤€</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Patterns Collection -->
                    <div class="collection-panel" id="patterns-panel">
                        <h3>íŒ¨í„´ ì»¬ë ‰ì…˜</h3>
                        <pre class="collection-code"><code>{
    "health_patterns": {
        "embeddings": "1536ì°¨ì› ë²¡í„°",
        "metadata": {
            "pattern_type": "íŒ¨í„´ ìœ í˜•",
            "confidence": "ì‹ ë¢°ë„",
            "frequency": "ë°œìƒ ë¹ˆë„"
        }
    }
}</code></pre>
                        <div class="collection-details">
                            <h4>êµ¬ì¡° ì„¤ëª…</h4>
                            <ul>
                                <li>pattern_type: íŒ¨í„´ì˜ ì¢…ë¥˜</li>
                                <li>confidence: íŒ¨í„´ì˜ ì‹ ë¢°ë„</li>
                                <li>frequency: ë°œìƒ ë¹ˆë„ ìˆ˜</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="search-process" class="search-process">
                    <h3>ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤</h3>
                    <div class="mermaid">
                        graph TD
                            A[ê²€ìƒ‰ ìš”ì²­] --> B[ë²¡í„° ë³€í™˜]
                            B --> C[ìœ ì‚¬ë„ ê²€ìƒ‰]
                            C --> D[ë©”íƒ€ë°ì´í„° í•„í„°ë§]
                            D --> E[ê²°ê³¼ ë°˜í™˜]
                    </div>
                </div>
            </div>
        </section>

        <section id="version-history" class="main-section">
            <h2>ë²„ì „ ì´ë ¥</h2>
            <div class="timeline">
                <div class="version-entry current">
                    <h3>2025-01-02</h3>
                    <ul>
                        <li>ë²¡í„° DB ê³„ì¸µ êµ¬ì¡° ì¬ì„¤ê³„
                            <ul>
                                <li>ì»¬ë ‰ì…˜ êµ¬ì¡° ìµœì í™”</li>
                                <li>ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤ ê°œì„ </li>
                            </ul>
                        </li>
                        <li>ì„œë¹„ìŠ¤ í†µí•©
                            <ul>
                                <li>ì¶”ì²œ + QA ì„œë¹„ìŠ¤ í†µí•©</li>
                                <li>íŒ¨í„´ ì„œë¹„ìŠ¤ ì¬ë°°ì¹˜</li>
                            </ul>
                        </li>
                        <li>ìœ í‹¸ë¦¬í‹° í†µí•©</li>
                    </ul>
                </div>
                <div class="version-entry">
                    <h3>2024-12-31</h3>
                    <ul>
                        <li>ê¸°ë³¸ ì‹œìŠ¤í…œ êµ¬ì¶•</li>
                    </ul>
                </div>
            </div>
        </section>

        <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
        <script>
            mermaid.initialize({startOnLoad:true});

            document.addEventListener('DOMContentLoaded', function() {
                // íƒ­ ì „í™˜ ê¸°ëŠ¥
                const tabBtns = document.querySelectorAll('.tab-btn');
                tabBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        // í™œì„± íƒ­ ë³€ê²½
                        document.querySelector('.tab-btn.active').classList.remove('active');
                        btn.classList.add('active');
                        
                        // íŒ¨ë„ ì „í™˜
                        const panelId = `${btn.dataset.tab}-panel`;
                        document.querySelector('.collection-panel.active').classList.remove('active');
                        document.getElementById(panelId).classList.add('active');
                    });
                });

                // ìŠ¤ë¬´ìŠ¤ ìŠ¤í¬ë¡¤
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        document.querySelector(this.getAttribute('href')).scrollIntoView({
                            behavior: 'smooth'
                        });
                    });
                });
            });
        </script>
    </div>
</body>
</html>